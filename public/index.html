<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GP Basketball Manager</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* === AVATARS ANIM√âS DES FRANCHISES === */

        /* Minotaurs - Taureau qui charge */
        .minotaur-avatar {
            display: inline-block;
            font-size: 3rem;
            animation: charge 2s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.5));
        }

        @keyframes charge {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            50% { transform: translateX(-3px) rotate(-2deg); }
        }

        /* Krakens - Tentacules qui ondulent */
        .kraken-avatar {
            display: inline-block;
            font-size: 3rem;
            animation: tentacles 3s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(0, 100, 255, 0.5));
        }

        @keyframes tentacles {
            0%, 100% { transform: rotate(0deg) scale(1); }
            33% { transform: rotate(2deg) scale(1.05); }
            66% { transform: rotate(-2deg) scale(0.95); }
        }

        /* Phoenix - Flammes qui dansent */
        .phoenix-avatar {
            display: inline-block;
            font-size: 3rem;
            animation: flames 2s ease-in-out infinite;
            filter: drop-shadow(0 0 15px rgba(255, 165, 0, 0.7));
        }

        @keyframes flames {
            0%, 100% { transform: translateY(0px) scale(1); }
            25% { transform: translateY(-2px) scale(1.1); }
            75% { transform: translateY(1px) scale(0.9); }
        }

        /* Werewolves - Yeux qui brillent */
        .werewolf-avatar {
            display: inline-block;
            font-size: 3rem;
            animation: glow 4s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(0, 255, 0, 0.4));
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(0, 255, 0, 0.4)); }
            50% { filter: drop-shadow(0 0 20px rgba(0, 255, 0, 0.8)) brightness(1.2); }
        }

        /* Effet de hover pour tous les avatars */
        .franchise-avatar:hover {
            transform: scale(1.2);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        /* Particules de fond optionnelles */
        .franchise-card {
            position: relative;
            overflow: hidden;
        }

        .franchise-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: sparkle 10s linear infinite;
            pointer-events: none;
        }

        @keyframes sparkle {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-20px, -20px) rotate(360deg); }
        }

        /* Styles pour les badges avec bordures de raret√© */
        .badge-bronze {
            border-color: #cd7f32;
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.1), rgba(205, 127, 50, 0.2));
        }
        
        .badge-argent {
            border-color: #c0c0c0;
            background: linear-gradient(135deg, rgba(192, 192, 192, 0.1), rgba(192, 192, 192, 0.2));
        }
        
        .badge-or {
            border-color: #ffd700;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.2));
        }
        
        .badge-diamant {
            border-color: #b9f2ff;
            background: linear-gradient(135deg, rgba(185, 242, 255, 0.1), rgba(185, 242, 255, 0.3));
        }
        
        .badge-legendaire {
            background: linear-gradient(135deg, 
                rgba(255, 0, 0, 0.1),
                rgba(255, 154, 0, 0.1),
                rgba(208, 222, 33, 0.1),
                rgba(79, 220, 74, 0.1),
                rgba(63, 218, 216, 0.1),
                rgba(47, 201, 226, 0.1),
                rgba(28, 127, 238, 0.1),
                rgba(95, 21, 242, 0.1),
                rgba(186, 12, 248, 0.1),
                rgba(251, 7, 217, 0.1));
            border-image: linear-gradient(45deg, red, orange, yellow, green, cyan, blue, violet, purple) 1;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        // ========== NOUVEAUX BADGES INDIVIDUELS ==========
        const individualBadges = {
          // S√âRIES
          hotStreak: {
            id: 'hot_streak',
            name: 'Hot Streak',
            emoji: 'üî•',
            description: '5 actions positives d\'affil√©e',
            points: 5,
            rarity: 'bronze',
            category: 'series'
          },
          tsunami: {
            id: 'tsunami',
            name: 'Tsunami',
            emoji: 'üåä',
            description: '10 actions positives d\'affil√©e',
            points: 10,
            rarity: 'argent',
            category: 'series'
          },
          unstoppable: {
            id: 'unstoppable',
            name: 'Unstoppable',
            emoji: 'üöÄ',
            description: '15 actions positives d\'affil√©e',
            points: 20,
            rarity: 'or',
            category: 'series'
          },
          onFire: {
            id: 'on_fire',
            name: 'On Fire',
            emoji: 'üî•',
            description: '2 "Hardworker" (6pts) en 2 semaines',
            points: 10,
            rarity: 'argent',
            category: 'series'
          },
          
          // PERS√âV√âRANCE
          phoenix: {
            id: 'phoenix',
            name: 'Phoenix',
            emoji: 'ü¶Ö',
            description: 'Remonter de -50 √† +50 points',
            points: 20,
            rarity: 'or',
            category: 'perseverance'
          },
          marathonRunner: {
            id: 'marathon_runner',
            name: 'Marathon Runner',
            emoji: 'üèÉ',
            description: 'Actions positives 5 jours d\'√©cole cons√©cutifs',
            points: 5,
            rarity: 'bronze',
            category: 'perseverance'
          },
          
          // SOCIAUX/√âQUIPE
          teamCaptain: {
            id: 'team_captain',
            name: 'Team Captain',
            emoji: 'üëë',
            description: 'Meilleur de sa franchise pendant 1 semaine',
            points: 10,
            rarity: 'argent',
            category: 'social'
          },
          veteran: {
            id: 'veteran',
            name: 'Veteran',
            emoji: 'üéñÔ∏è',
            description: 'Top 3 de sa franchise pendant 2 mois',
            points: 20,
            rarity: 'or',
            category: 'social'
          },
          teamPlayer: {
            id: 'team_player',
            name: 'Team Player',
            emoji: 'ü§ù',
            description: 'Sa franchise gagne le + de points en 1 semaine',
            points: 5,
            rarity: 'bronze',
            category: 'social'
          },
          
          // SP√âCIAUX & RARES
          showtime: {
            id: 'showtime',
            name: 'Showtime',
            emoji: 'üé™',
            description: 'Recevoir "F√©licitations" (25pts) 3 fois',
            points: 35,
            rarity: 'diamant',
            category: 'special'
          },
          halloweenSpirit: {
            id: 'halloween_spirit',
            name: 'Halloween Spirit',
            emoji: 'üéÉ',
            description: 'Actions positives semaine Halloween',
            points: 50,
            rarity: 'legendaire',
            category: 'special'
          },
          christmasMagic: {
            id: 'christmas_magic',
            name: 'Christmas Magic',
            emoji: 'üéÑ',
            description: 'Actions positives pendant les f√™tes',
            points: 50,
            rarity: 'legendaire',
            category: 'special'
          },
          backToSchool: {
            id: 'back_to_school',
            name: 'Back to School',
            emoji: 'üìö',
            description: '10 actions positives premier mois rentr√©e',
            points: 50,
            rarity: 'legendaire',
            category: 'special'
          }
        };

        // ========== NOUVEAUX BADGES COLLECTIFS ==========
        const collectiveBadges = {
          // DOMINATION COLLECTIVE - Supr√©matie
          franchiseRoyalty: {
            id: 'franchise_royalty',
            name: 'Franchise Royalty',
            emoji: 'üëë',
            description: '#1 pendant 1 mois complet',
            points: 50,
            rarity: 'argent',
            category: 'domination'
          },
          dynasty: {
            id: 'dynasty',
            name: 'Dynasty',
            emoji: 'üåü',
            description: '#1 pendant 3 mois cons√©cutifs',
            points: 100,
            rarity: 'or',
            category: 'domination'
          },
          empire: {
            id: 'empire',
            name: 'Empire',
            emoji: 'üèõÔ∏è',
            description: '#1 pendant 6 mois dans l\'ann√©e',
            points: 200,
            rarity: 'diamant',
            category: 'domination'
          },
          legendaryHouse: {
            id: 'legendary_house',
            name: 'Legendary House',
            emoji: 'üêê',
            description: '#1 √† la fin de l\'ann√©e scolaire',
            points: 500,
            rarity: 'legendaire',
            category: 'domination'
          },
          
          // DOMINATION COLLECTIVE - Performances
          rocketLaunch: {
            id: 'rocket_launch',
            name: 'Rocket Launch',
            emoji: 'üöÄ',
            description: '+80 points collectifs en 1 semaine',
            points: 20,
            rarity: 'bronze',
            category: 'performance'
          },
          tidalWave: {
            id: 'tidal_wave',
            name: 'Tidal Wave',
            emoji: 'üåä',
            description: '+200 points collectifs en 1 mois',
            points: 100,
            rarity: 'or',
            category: 'performance'
          },
          lightningStrike: {
            id: 'lightning_strike',
            name: 'Lightning Strike',
            emoji: '‚ö°',
            description: 'Tous les membres gagnent points m√™me jour',
            points: 20,
            rarity: 'bronze',
            category: 'performance'
          },
          houseOnFire: {
            id: 'house_on_fire',
            name: 'House on Fire',
            emoji: 'üî•',
            description: '80% membres actions positives en 1 semaine',
            points: 50,
            rarity: 'argent',
            category: 'performance'
          },
          
          // SOLIDARIT√â & ENTRAIDE - Unit√©
          unitedWeStand: {
            id: 'united_we_stand',
            name: 'United We Stand',
            emoji: 'ü§ù',
            description: 'Aucun membre n√©gatif pendant 2 semaines',
            points: 50,
            rarity: 'argent',
            category: 'solidarity'
          },
          brotherhood: {
            id: 'brotherhood',
            name: 'Brotherhood/Sisterhood',
            emoji: 'üõ°Ô∏è',
            description: 'Aider membre √† sortir du n√©gatif',
            points: 100,
            rarity: 'or',
            category: 'solidarity'
          },
          perfectBalance: {
            id: 'perfect_balance',
            name: 'Perfect Balance',
            emoji: '‚öñÔ∏è',
            description: 'Tous membres entre 25-75 points',
            points: 100,
            rarity: 'or',
            category: 'solidarity'
          },
          harmony: {
            id: 'harmony',
            name: 'Harmony',
            emoji: 'üåà',
            description: '√âcart <50 points entre 1er et dernier',
            points: 50,
            rarity: 'argent',
            category: 'solidarity'
          },
          
          // SOLIDARIT√â & ENTRAIDE - Objectifs communs
          showstoppers: {
            id: 'showstoppers',
            name: 'Showstoppers',
            emoji: 'üé™',
            description: '3 membres "F√©licitations" m√™me trimestre',
            points: 200,
            rarity: 'diamant',
            category: 'objectives'
          },
          gemCollection: {
            id: 'gem_collection',
            name: 'Gem Collection',
            emoji: 'üíé',
            description: 'Tous atteignent au moins "Starting Five"',
            points: 100,
            rarity: 'or',
            category: 'objectives'
          },
          fullSquad: {
            id: 'full_squad',
            name: 'Full Squad',
            emoji: 'üë•',
            description: '100% participation activit√©s optionnelles',
            points: 50,
            rarity: 'argent',
            category: 'objectives'
          },
          honorGuard: {
            id: 'honor_guard',
            name: 'Honor Guard',
            emoji: 'üéñÔ∏è',
            description: 'Aucune action n√©gative pendant 1 mois',
            points: 100,
            rarity: 'or',
            category: 'objectives'
          },
          
          // √âV√âNEMENTS & SAISONS
          autumnChampions: {
            id: 'autumn_champions',
            name: 'Autumn Champions',
            emoji: 'üçÇ',
            description: 'Meilleure franchise sept-oct',
            points: 200,
            rarity: 'legendaire',
            category: 'events'
          },
          winterWarriors: {
            id: 'winter_warriors',
            name: 'Winter Warriors',
            emoji: '‚ùÑÔ∏è',
            description: 'Meilleure franchise d√©c-janv',
            points: 200,
            rarity: 'legendaire',
            category: 'events'
          },
          springAwakening: {
            id: 'spring_awakening',
            name: 'Spring Awakening',
            emoji: 'üå∏',
            description: 'Meilleure franchise mars-avril',
            points: 200,
            rarity: 'legendaire',
            category: 'events'
          }
        };

        // Fonction pour obtenir la couleur selon la raret√©
        const getRarityColor = (rarity) => {
          switch(rarity) {
            case 'bronze': return 'badge-bronze';
            case 'argent': return 'badge-argent';
            case 'or': return 'badge-or';
            case 'diamant': return 'badge-diamant';
            case 'legendaire': return 'badge-legendaire';
            default: return 'badge-bronze';
          }
        };

        // Fonction pour obtenir le nom de la raret√©
        const getRarityName = (rarity) => {
          switch(rarity) {
            case 'bronze': return 'ü•â Bronze';
            case 'argent': return 'ü•à Argent';
            case 'or': return 'ü•á Or';
            case 'diamant': return 'üíé Diamant';
            case 'legendaire': return 'üåü L√©gendaire';
            default: return 'ü•â Bronze';
          }
        };

        // Composant BadgeDisplay
        const BadgeDisplay = ({ badges }) => {
          if (!badges || badges.length === 0) return null;
          
          return (
            <div className="flex flex-wrap gap-1 mt-2">
              {badges.map(badge => (
                <span 
                  key={badge.id} 
                  className="text-xl" 
                  title={`${badge.name} - ${badge.description}`}
                >
                  {badge.emoji}
                </span>
              ))}
            </div>
          );
        };

        // Composant NotificationSystem
        const NotificationSystem = ({ notifications }) => {
          if (!notifications || notifications.length === 0) return null;
          
          return (
            <div className="fixed top-4 right-4 z-50 space-y-2 max-w-sm">
              {notifications.map((notif, index) => (
                <div
                  key={index}
                  className="bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg shadow-2xl animate-pulse"
                >
                  {notif}
                </div>
              ))}
            </div>
          );
        };

        const App = () => {
          const [currentView, setCurrentView] = useState('home');
          const [userType, setUserType] = useState(null);
          const [players, setPlayers] = useState([]);
          const [expandedDropdown, setExpandedDropdown] = useState(null);
          const [selectedPlayerHistory, setSelectedPlayerHistory] = useState(null);
          const [playerHistory, setPlayerHistory] = useState([]);
          const [loading, setLoading] = useState(false);
          const [password, setPassword] = useState('');
          const [loginError, setLoginError] = useState('');
          const [teacherName, setTeacherName] = useState('');
          const [selectedStudent, setSelectedStudent] = useState('');
          const [newStudentName, setNewStudentName] = useState('');
          const [newStudentFranchise, setNewStudentFranchise] = useState('Minotaurs');
          const [searchName, setSearchName] = useState('');
          const [foundPlayer, setFoundPlayer] = useState(null);
          const [searchHistory, setSearchHistory] = useState([]);
          const [showEvolutionChart, setShowEvolutionChart] = useState(false);
          const [chartData, setChartData] = useState(null);
          const [chartType, setChartType] = useState('player');
          // √âtats pour les badges
          const [playerBadges, setPlayerBadges] = useState({});
          const [franchiseBadges, setFranchiseBadges] = useState({});
          const [notifications, setNotifications] = useState([]);
          const [badgeFilter, setBadgeFilter] = useState('all'); // Pour filtrer les badges
          
          // Fonction pour obtenir le grade basketball selon le score
          const getBadge = (score) => {
            // Grade Ultime
            if (score >= 250) return { 
              emoji: 'üêê', 
              name: 'GOAT', 
              fullName: 'Greatest Of All Time',
              color: 'text-purple-300',
              bgColor: 'from-purple-600 to-purple-800',
              description: 'Le plus grand de tous les temps'
            };
            
            // Grades Elite
            if (score >= 200) return { 
              emoji: 'üèõÔ∏è', 
              name: 'Hall of Fame', 
              fullName: 'Hall of Fame',
              color: 'text-yellow-300',
              bgColor: 'from-yellow-500 to-yellow-700',
              description: 'L√©gende du sport'
            };
            if (score >= 150) return { 
              emoji: 'üî•', 
              name: 'Superstar', 
              fullName: 'Superstar',
              color: 'text-orange-300',
              bgColor: 'from-orange-500 to-red-600',
              description: 'Ph√©nom√®ne basketball'
            };
            
            // Grades Confirm√©s
            if (score >= 100) return { 
              emoji: 'üåü', 
              name: 'All-Star', 
              fullName: 'All-Star',
              color: 'text-blue-300',
              bgColor: 'from-blue-500 to-blue-700',
              description: 'S√©lectionn√© parmi l\'√©lite'
            };
            if (score >= 75) return { 
              emoji: 'üíé', 
              name: 'Franchise Player', 
              fullName: 'Franchise Player',
              color: 'text-cyan-300',
              bgColor: 'from-cyan-500 to-blue-600',
              description: 'Pilier de l\'√©quipe'
            };
            
            // Grades D√©veloppement
            if (score >= 50) return { 
              emoji: '‚≠ê', 
              name: 'Starting Five', 
              fullName: 'Starting Five',
              color: 'text-green-300',
              bgColor: 'from-green-500 to-green-700',
              description: 'Titulaire indiscutable'
            };
            if (score >= 25) return { 
              emoji: 'üèÉ', 
              name: 'Sixth Man', 
              fullName: 'Sixth Man',
              color: 'text-emerald-300',
              bgColor: 'from-emerald-500 to-green-600',
              description: 'Premier rempla√ßant de qualit√©'
            };
            
            // Grades D√©butants
            if (score >= 10) return { 
              emoji: 'üèÄ', 
              name: 'Rookie', 
              fullName: 'Rookie',
              color: 'text-amber-300',
              bgColor: 'from-amber-500 to-orange-500',
              description: 'D√©butant prometteur'
            };
            if (score >= 0) return { 
              emoji: 'üë∂', 
              name: 'Freshman', 
              fullName: 'Freshman',
              color: 'text-yellow-300',
              bgColor: 'from-yellow-400 to-amber-500',
              description: 'Premi√®re ann√©e, apprend les bases'
            };
            
            // Grades N√©gatifs
            if (score >= -25) return { 
              emoji: 'üìâ', 
              name: 'Plot', 
              fullName: 'Plot',
              color: 'text-gray-400',
              bgColor: 'from-gray-500 to-gray-700',
              description: 'Personnage sans importance'
            };
            if (score >= -50) return { 
              emoji: 'ü™ë', 
              name: 'Benchwarmer', 
              fullName: 'Benchwarmer',
              color: 'text-red-400',
              bgColor: 'from-red-500 to-red-700',
              description: 'Clou√© sur le banc'
            };
            
            // Pire niveau
            return { 
              emoji: 'üóëÔ∏è', 
              name: 'Scrub', 
              fullName: 'Scrub',
              color: 'text-red-600',
              bgColor: 'from-red-700 to-red-900',
              description: 'Le pire niveau possible'
            };
          };

          // Fonction pour obtenir l'avatar anim√© de la franchise
          const getFranchiseAvatar = (franchise) => {
            const avatars = {
              Minotaurs: { emoji: 'üêÇ', class: 'minotaur-avatar', name: 'Taureau Enrag√©' },
              Krakens: { emoji: 'üêô', class: 'kraken-avatar', name: 'Kraken des Profondeurs' },
              Phoenix: { emoji: 'üî•', class: 'phoenix-avatar', name: 'Phoenix √âternel' },
              Werewolves: { emoji: 'üê∫', class: 'werewolf-avatar', name: 'Loup-Garou' }
            };
            return avatars[franchise] || { emoji: '‚ö°', class: 'franchise-avatar', name: 'Guerrier' };
          };

          // Actions positives et n√©gatives
          const positiveActions = [
            { label: 'Hardworker', points: 6 },
            { label: 'Victoire le weekend', points: 4 },
            { label: 'Participation le weekend', points: 2 },
            { label: 'Entrainement/atelier facultatif', points: 4 },
            { label: 'Observation positive', points: 5 },
            { label: 'Bonus', points: 2 },
            { label: 'Bonus', points: 3 },
            { label: 'Bonus', points: 5 },
            { label: 'Bonus', points: 10 },
            { label: 'F√©licitations', points: 25 },
            { label: 'Compliments', points: 15 },
            { label: 'Encouragements', points: 10 }
          ];

          const negativeActions = [
            { label: 'Observation n√©gative', points: -5 },
            { label: 'Exclusion de cours', points: -8 },
            { label: 'Exclusion temporaire de l\'√©tablissement', points: -15 },
            { label: 'Travail non fait', points: -3 },
            { label: 'Retard/absence non justifi√©e', points: -3 },
            { label: 'Absence non justifi√©e au club', points: -3 },
            { label: 'P√©nalit√©', points: -2 },
            { label: 'P√©nalit√©', points: -3 },
            { label: 'P√©nalit√©', points: -5 }
          ];

          // Couleurs des franchises
          const franchiseColors = {
            Minotaurs: 'from-red-600 to-red-800',
            Krakens: 'from-blue-600 to-blue-800',
            Phoenix: 'from-orange-600 to-orange-800',
            Werewolves: 'from-green-600 to-green-800'
          };

          // V√©rifier le mot de passe professeur
          const verifyTeacher = async () => {
            if (!password.trim()) {
              setLoginError('Veuillez entrer un mot de passe');
              return;
            }
            
            try {
              const response = await fetch('/api/verify-teacher', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ password })
              });
              
              const data = await response.json();
              if (data.success) {
                setUserType('teacher');
                setCurrentView('teacher-dashboard');
                setLoginError('');
              } else {
                setLoginError('Mot de passe incorrect');
              }
            } catch (error) {
              setLoginError('Erreur de connexion');
            }
          };

          // Charger les joueurs
          const loadPlayers = async () => {
            try {
              const response = await fetch('/api/players');
              const data = await response.json();
              setPlayers(data);
            } catch (error) {
              console.error('Erreur lors du chargement des joueurs:', error);
            }
          };

          // Ajouter des points (professeurs uniquement)
          const addPoints = async (playerName, points, action) => {
            setLoading(true);
            try {
              const response = await fetch('/api/add-points', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ playerName, points, action, teacherName })
              });
              
              if (response.ok) {
                await loadPlayers();
                setExpandedDropdown(null);
                
                // TODO: V√©rifier les conditions de badges apr√®s ajout de points
                // Ceci devrait √™tre fait c√¥t√© serveur id√©alement
              }
            } catch (error) {
              console.error('Erreur lors de l\'ajout de points:', error);
            }
            setLoading(false);
          };

          // Charger l'historique d'un joueur
          const loadPlayerHistory = async (playerName) => {
            try {
              const response = await fetch(`/api/history/${encodeURIComponent(playerName)}`);
              const data = await response.json();
              setPlayerHistory(data);
              setSelectedPlayerHistory(playerName);
            } catch (error) {
              console.error('Erreur lors du chargement de l\'historique:', error);
            }
          };

          // Annuler la derni√®re action (professeurs uniquement)
          const undoLastAction = async (playerName) => {
            setLoading(true);
            try {
              const response = await fetch(`/api/undo-last/${encodeURIComponent(playerName)}`, {
                method: 'DELETE',
              });
              
              if (response.ok) {
                await loadPlayers();
              }
            } catch (error) {
              console.error('Erreur lors de l\'annulation:', error);
            }
            setLoading(false);
          };

          // Ajouter un √©l√®ve (professeurs uniquement)
          const addStudent = async () => {
            if (!newStudentName.trim()) {
              alert('Veuillez entrer un nom');
              return;
            }
            
            try {
              const response = await fetch('/api/add-student', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                  name: newStudentName.trim(), 
                  franchise: newStudentFranchise 
                })
              });
              
              if (response.ok) {
                setNewStudentName('');
                await loadPlayers();
                alert('√âl√®ve ajout√© avec succ√®s !');
              } else {
                const error = await response.json();
                alert(error.error || 'Erreur lors de l\'ajout');
              }
            } catch (error) {
              alert('Erreur lors de l\'ajout de l\'√©l√®ve');
            }
          };

          // Supprimer un √©l√®ve (professeurs uniquement)
          const removeStudent = async (playerName) => {
            if (!confirm(`√ätes-vous s√ªr de vouloir supprimer ${playerName} ? Cette action est irr√©versible.`)) {
              return;
            }
            
            try {
              const response = await fetch(`/api/remove-student/${encodeURIComponent(playerName)}`, {
                method: 'DELETE'
              });
              
              if (response.ok) {
                await loadPlayers();
                alert('√âl√®ve supprim√© avec succ√®s');
              }
            } catch (error) {
              alert('Erreur lors de la suppression');
            }
          };

          useEffect(() => {
            if (userType) {
              loadPlayers();
              const interval = setInterval(loadPlayers, 10000);
              return () => clearInterval(interval);
            }
          }, [userType]);

          // Obtenir les joueurs tri√©s par score pour une franchise
          const getSortedPlayers = (franchise) => {
            return players
              .filter(player => player.franchise === franchise)
              .sort((a, b) => b.score - a.score);
          };

          // Obtenir le classement des franchises
          const getFranchiseRankings = () => {
            const franchiseScores = {};
            ['Minotaurs', 'Krakens', 'Phoenix', 'Werewolves'].forEach(franchise => {
              franchiseScores[franchise] = players
                .filter(player => player.franchise === franchise)
                .reduce((total, player) => total + player.score, 0);
            });
            
            return Object.entries(franchiseScores)
              .sort(([,a], [,b]) => b - a)
              .map(([franchise, score], index) => ({ franchise, score, rank: index + 1 }));
          };

          // Obtenir le classement g√©n√©ral des joueurs
          const getGeneralPlayerRankings = () => {
            return [...players].sort((a, b) => b.score - a.score);
          };

          // PAGE D'ACCUEIL - CHOIX DU TYPE D'UTILISATEUR
          if (currentView === 'home') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8">
                <div className="max-w-4xl mx-auto">
                  <h1 className="text-6xl font-bold text-center text-white mb-4">
                    üèÜ Syst√®me de Gestion GPBM üèÜ
                  </h1>
                  <p className="text-xl text-center text-purple-200 mb-12">
                    Grades et Badges Basketball Manager
                  </p>
                  
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <button
                      onClick={() => setCurrentView('teacher-login')}
                      className="group relative overflow-hidden bg-gradient-to-r from-emerald-600 to-emerald-800 hover:from-emerald-500 hover:to-emerald-700 text-white p-8 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                      <div className="relative z-10 flex flex-col items-center">
                        <div className="text-6xl mb-4">üë®‚Äçüè´</div>
                        <h2 className="text-3xl font-bold mb-2">PROFESSEUR</h2>
                        <p className="text-emerald-100">Gestion compl√®te</p>
                        <p className="text-sm text-emerald-200 mt-2">üîê Mot de passe requis</p>
                      </div>
                    </button>
                    
                    <button
                      onClick={() => {
                        setUserType('student');
                        setCurrentView('student-dashboard');
                      }}
                      className="group relative overflow-hidden bg-gradient-to-r from-amber-600 to-amber-800 hover:from-amber-500 hover:to-amber-700 text-white p-8 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity duration-300"></div>
                      <div className="relative z-10 flex flex-col items-center">
                        <div className="text-6xl mb-4">üë®‚Äçüéì</div>
                        <h2 className="text-3xl font-bold mb-2">√âL√àVE</h2>
                        <p className="text-amber-100">Consultation des scores</p>
                        <p className="text-sm text-amber-200 mt-2">üëÅÔ∏è Lecture seule</p>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            );
          }

          // PAGE DE CONNEXION PROFESSEUR
          if (currentView === 'teacher-login') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8 flex items-center justify-center">
                <div className="bg-white/10 backdrop-blur-sm rounded-xl p-8 max-w-md w-full">
                  <h2 className="text-3xl font-bold text-white text-center mb-8">
                    üîê Connexion Professeur
                  </h2>
                  
                  <div className="space-y-6">
                    <div>
                      <label className="block text-white text-sm font-bold mb-2">
                        Nom (optionnel)
                      </label>
                      <input
                        type="text"
                        value={teacherName}
                        onChange={(e) => setTeacherName(e.target.value)}
                        className="w-full px-3 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 border border-white/30 focus:border-white/70 focus:outline-none"
                        placeholder="Votre nom..."
                      />
                    </div>
                    
                    <div>
                      <label className="block text-white text-sm font-bold mb-2">
                        Mot de passe *
                      </label>
                      <input
                        type="password"
                        value={password}
                        onChange={(e) => setPassword(e.target.value)}
                        onKeyPress={(e) => e.key === 'Enter' && verifyTeacher()}
                        className="w-full px-3 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 border border-white/30 focus:border-white/70 focus:outline-none"
                        placeholder="Mot de passe..."
                      />
                    </div>
                    
                    {loginError && (
                      <div className="text-red-300 text-sm text-center">
                        {loginError}
                      </div>
                    )}
                    
                    <div className="flex space-x-4">
                      <button
                        onClick={() => setCurrentView('home')}
                        className="flex-1 bg-gray-600 hover:bg-gray-500 text-white py-3 rounded-lg transition-colors"
                      >
                        ‚Üê Retour
                      </button>
                      <button
                        onClick={verifyTeacher}
                        className="flex-1 bg-emerald-600 hover:bg-emerald-500 text-white py-3 rounded-lg transition-colors"
                      >
                        Se connecter
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          // TABLEAU DE BORD PROFESSEUR
          if (currentView === 'teacher-dashboard') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8">
                <div className="max-w-6xl mx-auto">
                  <div className="flex justify-between items-center mb-8">
                    <h1 className="text-4xl font-bold text-white">
                      üë®‚Äçüè´ Tableau de Bord Professeur
                      {teacherName && <span className="text-2xl text-purple-200"> - {teacherName}</span>}
                    </h1>
                    <button
                      onClick={() => {
                        setCurrentView('home');
                        setUserType(null);
                        setPassword('');
                        setTeacherName('');
                      }}
                      className="bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-lg transition-colors"
                    >
                      üö™ D√©connexion
                    </button>
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <button
                      onClick={() => setCurrentView('teacher-players')}
                      className="bg-gradient-to-r from-emerald-600 to-emerald-800 hover:from-emerald-500 hover:to-emerald-700 text-white p-6 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="text-4xl mb-2">üë•</div>
                      <h3 className="text-xl font-bold">Gestion des Points</h3>
                      <p className="text-emerald-100 text-sm">Ajouter/retirer des points</p>
                    </button>
                    
                    <button
                      onClick={() => setCurrentView('teacher-admin')}
                      className="bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-500 hover:to-blue-700 text-white p-6 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="text-4xl mb-2">‚öôÔ∏è</div>
                      <h3 className="text-xl font-bold">Administration</h3>
                      <p className="text-blue-100 text-sm">G√©rer les √©l√®ves</p>
                    </button>
                    
                    <button
                      onClick={() => setCurrentView('rankings')}
                      className="bg-gradient-to-r from-amber-600 to-amber-800 hover:from-amber-500 hover:to-amber-700 text-white p-6 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="text-4xl mb-2">üèÜ</div>
                      <h3 className="text-xl font-bold">Classements</h3>
                      <p className="text-amber-100 text-sm">Voir les r√©sultats</p>
                    </button>
                    
                    <button
                      onClick={() => setCurrentView('badges')}
                      className="bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-500 hover:to-purple-700 text-white p-6 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="text-4xl mb-2">üèÖ</div>
                      <h3 className="text-xl font-bold">Badges</h3>
                      <p className="text-purple-100 text-sm">Voir tous les badges</p>
                    </button>
                  </div>

                  <div className="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                    <h3 className="text-2xl font-bold text-white mb-6 text-center">
                      üè† Les Quatre Franchises
                    </h3>
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                      {['Minotaurs', 'Krakens', 'Phoenix', 'Werewolves'].map(franchise => {
                        const franchisePlayers = getSortedPlayers(franchise);
                        const totalPoints = franchisePlayers.reduce((sum, player) => sum + player.score, 0);
                        const avatar = getFranchiseAvatar(franchise);
                        return (
                          <div key={franchise} className={`bg-gradient-to-r ${franchiseColors[franchise]} p-4 rounded-lg text-center franchise-card`}>
                            <div className="flex items-center justify-center mb-2">
                              <span className={`franchise-avatar ${avatar.class}`}>
                                {avatar.emoji}
                              </span>
                            </div>
                            <h4 className="font-bold text-white text-lg">{franchise}</h4>
                            <div className="text-2xl font-bold text-white">{totalPoints}</div>
                            <div className="text-sm text-white/80">{franchisePlayers.length} √©l√®ves</div>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                    <h3 className="text-2xl font-bold text-white mb-4">üìä Statistiques Rapides</h3>
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                      {['Minotaurs', 'Krakens', 'Phoenix', 'Werewolves'].map(franchise => {
                        const franchisePlayers = getSortedPlayers(franchise);
                        const totalPoints = franchisePlayers.reduce((sum, player) => sum + player.score, 0);
                        const avatar = getFranchiseAvatar(franchise);
                        return (
                          <div key={franchise} className={`bg-gradient-to-r ${franchiseColors[franchise]} p-4 rounded-lg text-center franchise-card`}>
                            <div className="flex items-center justify-center mb-2">
                              <span className={`franchise-avatar ${avatar.class}`}>
                                {avatar.emoji}
                              </span>
                            </div>
                            <h4 className="font-bold text-white">{franchise}</h4>
                            <div className="text-2xl font-bold text-white">{totalPoints}</div>
                            <div className="text-sm text-white/80">{franchisePlayers.length} √©l√®ves</div>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          // GESTION DES POINTS PROFESSEUR
          if (currentView === 'teacher-players') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8">
                <div className="max-w-7xl mx-auto">
                  <div className="flex justify-between items-center mb-8">
                    <h1 className="text-4xl font-bold text-white">üë• Gestion des Points</h1>
                    <div className="flex space-x-4">
                      {loading && <div className="text-white">‚è≥ Chargement...</div>}
                      <button
                        onClick={() => setCurrentView('teacher-dashboard')}
                        className="bg-gray-600 hover:bg-gray-500 text-white px-6 py-3 rounded-lg transition-colors"
                      >
                        ‚Üê Retour Tableau de Bord
                      </button>
                    </div>
                  </div>

                  <div className="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6">
                    {['Minotaurs', 'Krakens', 'Phoenix', 'Werewolves'].map(franchise => {
                      const avatar = getFranchiseAvatar(franchise);
                      return (
                        <div key={franchise} className="bg-white/10 backdrop-blur-sm rounded-xl p-6 franchise-card">
                          <h2 className={`text-2xl font-bold text-white mb-4 text-center bg-gradient-to-r ${franchiseColors[franchise]} p-3 rounded-lg flex items-center justify-center space-x-2`}>
                            <span className={`franchise-avatar ${avatar.class}`}>
                              {avatar.emoji}
                            </span>
                            <span>{franchise}</span>
                          </h2>
                          <div className="space-y-3">
                            {getSortedPlayers(franchise).map(player => (
                              <div key={player.name} className="bg-white/20 rounded-lg p-3">
                                <div className="flex justify-between items-center mb-2">
                                  <button
                                    onClick={() => loadPlayerHistory(player.name)}
                                    className="text-white font-semibold hover:text-yellow-300 transition-colors flex items-center space-x-1"
                                  >
                                    <span>{player.name}</span>
                                    <span>üìã</span>
                                  </button>
                                  <div className="flex items-center space-x-2">
                                    <div className="flex items-center space-x-1">
                                      <span className={`text-2xl ${getBadge(player.score).emoji}`}>
                                        {getBadge(player.score).emoji}
                                      </span>
                                      <span className="text-white font-bold">
                                        {player.score} pts
                                      </span>
                                    </div>
                                    <button
                                      onClick={() => undoLastAction(player.name)}
                                      className="bg-red-500 hover:bg-red-400 text-white px-2 py-1 rounded text-xs"
                                      title="Annuler derni√®re action"
                                    >
                                      ‚Ü∫
                                    </button>
                                  </div>
                                </div>
                                {/* Affichage des badges */}
                                <BadgeDisplay badges={playerBadges[player.name] || []} />
                                <div className="relative">
                                  <button
                                    onClick={() => setExpandedDropdown(expandedDropdown === player.name ? null : player.name)}
                                    className="w-full bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded flex justify-between items-center transition-colors"
                                    disabled={loading}
                                  >
                                    <span>Actions</span>
                                    <span>{expandedDropdown === player.name ? '‚åÉ' : '‚åÑ'}</span>
                                  </button>
                                  
                                  {expandedDropdown === player.name && (
                                    <div className="absolute top-full left-0 right-0 bg-white rounded-lg shadow-xl z-10 mt-1 max-h-64 overflow-y-auto">
                                      <div className="p-2">
                                        <div className="text-green-700 font-semibold mb-2">Points positifs:</div>
                                        {positiveActions.map((action, index) => (
                                          <button
                                            key={`pos-${index}`}
                                            onClick={() => addPoints(player.name, action.points, action.label)}
                                            className="w-full text-left px-3 py-2 hover:bg-green-100 rounded text-sm flex justify-between"
                                            disabled={loading}
                                          >
                                            <span>{action.label}</span>
                                            <span className="text-green-600 font-bold">+{action.points}</span>
                                          </button>
                                        ))}
                                        
                                        <div className="text-red-700 font-semibold mb-2 mt-3">Points n√©gatifs:</div>
                                        {negativeActions.map((action, index) => (
                                          <button
                                            key={`neg-${index}`}
                                            onClick={() => addPoints(player.name, action.points, action.label)}
                                            className="w-full text-left px-3 py-2 hover:bg-red-100 rounded text-sm flex justify-between"
                                            disabled={loading}
                                          >
                                            <span>{action.label}</span>
                                            <span className="text-red-600 font-bold">{action.points}</span>
                                          </button>
                                        ))}
                                      </div>
                                    </div>
                                  )}
                                </div>
                              </div>
                            ))}
                          </div>
                        </div>
                      );
                    })}
                  </div>
                </div>
              </div>
            );
          }

          // ADMINISTRATION PROFESSEUR
          if (currentView === 'teacher-admin') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8">
                <div className="max-w-6xl mx-auto">
                  <div className="flex justify-between items-center mb-8">
                    <h1 className="text-4xl font-bold text-white">‚öôÔ∏è Administration des √âl√®ves</h1>
                    <button
                      onClick={() => setCurrentView('teacher-dashboard')}
                      className="bg-gray-600 hover:bg-gray-500 text-white px-6 py-3 rounded-lg transition-colors"
                    >
                      ‚Üê Retour Tableau de Bord
                    </button>
                  </div>

                  <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div className="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                      <h2 className="text-2xl font-bold text-white mb-6 text-center">
                        ‚ûï Ajouter un √âl√®ve
                      </h2>
                      <div className="space-y-4">
                        <div>
                          <label className="block text-white text-sm font-bold mb-2">
                            Nom de l'√©l√®ve
                          </label>
                          <input
                            type="text"
                            value={newStudentName}
                            onChange={(e) => setNewStudentName(e.target.value)}
                            className="w-full px-3 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 border border-white/30 focus:border-white/70 focus:outline-none"
                            placeholder="Pr√©nom Nom..."
                          />
                        </div>
                        
                        <div>
                          <label className="block text-white text-sm font-bold mb-2">
                            Franchise
                          </label>
                          <select
                            value={newStudentFranchise}
                            onChange={(e) => setNewStudentFranchise(e.target.value)}
                            className="w-full px-3 py-2 rounded-lg bg-white/20 text-white border border-white/30 focus:border-white/70 focus:outline-none"
                          >
                            <option value="Minotaurs" className="text-black">Minotaurs</option>
                            <option value="Krakens" className="text-black">Krakens</option>
                            <option value="Phoenix" className="text-black">Phoenix</option>
                            <option value="Werewolves" className="text-black">Werewolves</option>
                          </select>
                        </div>
                        
                        <button
                          onClick={addStudent}
                          className="w-full bg-green-600 hover:bg-green-500 text-white py-3 rounded-lg transition-colors font-bold"
                        >
                          ‚ûï Ajouter l'√âl√®ve
                        </button>
                      </div>
                    </div>

                    <div className="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                      <h2 className="text-2xl font-bold text-white mb-6 text-center">
                        üóëÔ∏è Supprimer un √âl√®ve
                      </h2>
                      <div className="space-y-4">
                        <div>
                          <label className="block text-white text-sm font-bold mb-2">
                            S√©lectionner un √©l√®ve
                          </label>
                          <select
                            value={selectedStudent}
                            onChange={(e) => setSelectedStudent(e.target.value)}
                            className="w-full px-3 py-2 rounded-lg bg-white/20 text-white border border-white/30 focus:border-white/70 focus:outline-none"
                          >
                            <option value="" className="text-black">-- Choisir un √©l√®ve --</option>
                            {players
                              .sort((a, b) => a.name.localeCompare(b.name))
                              .map(player => (
                                <option key={player.name} value={player.name} className="text-black">
                                  {player.name} ({player.franchise})
                                </option>
                              ))}
                          </select>
                        </div>
                        
                        <button
                          onClick={() => selectedStudent && removeStudent(selectedStudent)}
                          disabled={!selectedStudent}
                          className="w-full bg-red-600 hover:bg-red-500 disabled:bg-gray-500 disabled:cursor-not-allowed text-white py-3 rounded-lg transition-colors font-bold"
                        >
                          üóëÔ∏è Supprimer l'√âl√®ve
                        </button>
                        
                        <p className="text-red-300 text-sm text-center">
                          ‚ö†Ô∏è Cette action est irr√©versible !
                        </p>
                      </div>
                    </div>
                  </div>

                  <div className="mt-8 bg-white/10 backdrop-blur-sm rounded-xl p-6">
                    <h2 className="text-2xl font-bold text-white mb-6 text-center">
                      üìã Liste Actuelle des √âl√®ves
                    </h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                      {['Minotaurs', 'Krakens', 'Phoenix', 'Werewolves'].map(franchise => {
                        const avatar = getFranchiseAvatar(franchise);
                        return (
                          <div key={franchise} className={`bg-gradient-to-r ${franchiseColors[franchise]} p-4 rounded-lg franchise-card`}>
                            <div className="flex items-center justify-center mb-3">
                              <span className={`franchise-avatar ${avatar.class}`}>
                                {avatar.emoji}
                              </span>
                              <h3 className="text-xl font-bold text-white ml-2">{franchise}</h3>
                            </div>
                            <div className="space-y-2">
                              {getSortedPlayers(franchise).map(player => (
                                <div key={player.name} className="bg-white/20 p-2 rounded text-white text-sm">
                                  <div className="flex justify-between items-center">
                                    <span>{player.name}</span>
                                    <span className="font-bold">{player.score} pts</span>
                                  </div>
                                </div>
                              ))}
                            </div>
                            <div className="text-center mt-3 text-white/80 text-sm">
                              {getSortedPlayers(franchise).length} √©l√®ve(s)
                            </div>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          // TABLEAU DE BORD √âL√àVE
          if (currentView === 'student-dashboard') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8">
                <div className="max-w-4xl mx-auto">
                  <div className="flex justify-between items-center mb-8">
                    <h1 className="text-4xl font-bold text-white">üë®‚Äçüéì Espace √âl√®ve</h1>
                    <button
                      onClick={() => {
                        setCurrentView('home');
                        setUserType(null);
                      }}
                      className="bg-gray-600 hover:bg-gray-500 text-white px-6 py-3 rounded-lg transition-colors"
                    >
                      ‚Üê Retour Accueil
                    </button>
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <button
                      onClick={() => setCurrentView('student-search')}
                      className="bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-500 hover:to-blue-700 text-white p-6 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="text-4xl mb-2">üîç</div>
                      <h3 className="text-xl font-bold">Mon Score</h3>
                      <p className="text-blue-100 text-sm">Voir mon historique personnel</p>
                    </button>

                    <button
                      onClick={() => setCurrentView('badges')}
                      className="bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-500 hover:to-purple-700 text-white p-6 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="text-4xl mb-2">üèÖ</div>
                      <h3 className="text-xl font-bold">Badges</h3>
                      <p className="text-purple-100 text-sm">D√©couvrir les badges</p>
                    </button>
                    
                    <button
                      onClick={() => setCurrentView('rankings')}
                      className="bg-gradient-to-r from-amber-600 to-amber-800 hover:from-amber-500 hover:to-amber-700 text-white p-6 rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-300"
                    >
                      <div className="text-4xl mb-2">üèÜ</div>
                      <h3 className="text-xl font-bold">Classements</h3>
                      <p className="text-amber-100 text-sm">Voir tous les classements</p>
                    </button>
                  </div>

                  <div className="bg-white/10 backdrop-blur-sm rounded-xl p-6">
